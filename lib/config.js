"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Get default config merged with environment variables, if present
 */
// tslint:disable-next-line cyclomatic-complexity
exports.config = (() => {
    const DEFAULT_FREE_HOST = 'api.timezonedb.com';
    const DEFAULT_PREMIUM_HOST = 'vip.timezonedb.com';
    const DEFAULT_HTTPS_PORT = 443;
    const DEFAULT_HTTP_PORT = 80;
    const DEFAULT_BASE_PATH = '/v2.1';
    const DEFAULT_TIMEOUT_MS = 5000;
    const { env } = process;
    // HTTPS is the default and must be explicitly disabled
    const https = (env.TZDB_API_HTTP && env.TZDB_API_HTTP.toUpperCase() === 'TRUE') ? false : true;
    const port = env.TZDB_API_PORT ? Number(env.TZDB_API_PORT) : (https ? DEFAULT_HTTPS_PORT : DEFAULT_HTTP_PORT);
    // FREE is the default and premium must be explicitly enabled
    const premium = !!(env.TZDB_API_PREMIUM && env.TZDB_API_PREMIUM.toUpperCase() === 'TRUE');
    const host = env.TZDB_API_HOST || (premium ? DEFAULT_PREMIUM_HOST : DEFAULT_FREE_HOST);
    const basePath = env.TZDB_API_BASE_PATH || DEFAULT_BASE_PATH;
    const apiToken = env.TZDB_API_TOKEN || undefined;
    const timeoutMs = env.TZDB_API_TIMEOUT ? Number(env.TZDB_API_TIMEOUT) : DEFAULT_TIMEOUT_MS;
    return {
        premium,
        https,
        host,
        port,
        basePath,
        apiToken,
        timeoutMs,
    };
})();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQTJFQTs7R0FFRztBQUNILGlEQUFpRDtBQUNwQyxRQUFBLE1BQU0sR0FBZSxDQUFDLEdBQWUsRUFBRTtJQUNsRCxNQUFNLGlCQUFpQixHQUFHLG9CQUFvQixDQUFDO0lBQy9DLE1BQU0sb0JBQW9CLEdBQUcsb0JBQW9CLENBQUM7SUFDbEQsTUFBTSxrQkFBa0IsR0FBRyxHQUFHLENBQUM7SUFDL0IsTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7SUFDN0IsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUM7SUFDbEMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLENBQUM7SUFFaEMsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLE9BQU8sQ0FBQztJQUV4Qix1REFBdUQ7SUFDdkQsTUFBTSxLQUFLLEdBQVksQ0FBQyxHQUFHLENBQUMsYUFBYSxJQUFJLEdBQUcsQ0FBQyxhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3hHLE1BQU0sSUFBSSxHQUFXLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUV0SCw2REFBNkQ7SUFDN0QsTUFBTSxPQUFPLEdBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLGdCQUFnQixJQUFJLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLENBQUMsQ0FBQztJQUVuRyxNQUFNLElBQUksR0FBVyxHQUFHLENBQUMsYUFBYSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMvRixNQUFNLFFBQVEsR0FBVyxHQUFHLENBQUMsa0JBQWtCLElBQUksaUJBQWlCLENBQUM7SUFFckUsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLGNBQWMsSUFBSSxTQUFTLENBQUM7SUFFakQsTUFBTSxTQUFTLEdBQUcsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO0lBRTNGLE9BQU87UUFDTCxPQUFPO1FBQ1AsS0FBSztRQUNMLElBQUk7UUFDSixJQUFJO1FBQ0osUUFBUTtRQUNSLFFBQVE7UUFDUixTQUFTO0tBQ1YsQ0FBQztBQUNKLENBQUMsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRpbWVab25lREIgY29uZmlnXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVFpEQkNvbmZpZyB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHVzZSB0aGUgcHJlbWl1bSBBUEkgKHZpcC50aW1lem9uZWRiLmNvbSlcbiAgICpcbiAgICogRGVmYXVsdDogZmFsc2VcbiAgICpcbiAgICogRW52aXJvbm1lbnQgdmFyaWFibGU6XG4gICAqIFRaREJfQVBJX1BSRU1JVU09VFJVRVxuICAgKi9cbiAgcHJlbWl1bT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gdXNlIEhUVFBTIHRvIGNvbm5lY3QgdG8gdGhlIEFQSVxuICAgKlxuICAgKiBEZWZhdWx0OiB0cnVlXG4gICAqXG4gICAqIEVudmlyb21lbnQgdmFyaWFibGU6XG4gICAqIFRaREJfQVBJX0hUVFA9RkFMU0VcbiAgICovXG4gIGh0dHBzPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGltZVpvbmVEQiBob3N0XG4gICAqXG4gICAqIERlZmF1bHQ6IGFwaS50aW1lem9uZWRiLmNvbSBvciB2aXAudGltZXpvbmVkYi5jb20gKGlmIHByZW1pdW0gaXMgc2V0KVxuICAgKlxuICAgKiBFbnZpcm9ubWVudCB2YXJpYWJsZTpcbiAgICogVFpEQl9BUElfSE9TVD1hcGkudGltZXpvbmVkYi5jb21cbiAgICovXG4gIGhvc3Q/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRpbWVab25lREIgUG9ydFxuICAgKlxuICAgKiBEZWZhdWx0OiA0NDMgb3IgODAgKGlmIEhUVFAgaXMgc2V0KVxuICAgKlxuICAgKiBFbnZpcm9ubWVudCB2YXJpYWJsZTpcbiAgICogVFpEQl9BUElfUE9SVD00NDNcbiAgICovXG4gIHBvcnQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRpbWVab25lREIgQVBJIEJhc2UgUGF0aFxuICAgKlxuICAgKiBEZWZhdWx0OiAvdjIuMVxuICAgKlxuICAgKiBFbnZpcm9ubWVudCB2YXJpYWJsZTpcbiAgICogVFpEQl9BUElfQkFTRV9QQVRIPS92Mi4xXG4gICAqL1xuICBiYXNlUGF0aD86IHN0cmluZztcblxuICAvKipcbiAgICogVGltZVpvbmVEQiBBUEkgVG9rZW5cbiAgICpcbiAgICogRGVmYXVsdDogdW5kZWZpbmVkXG4gICAqXG4gICAqIEVudmlyb25tZW50IHZhcmlhYmxlOlxuICAgKiBUWkRCX0FQSV9UT0tFTj0xMjNhYmNcbiAgICovXG4gIGFwaVRva2VuPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaW1lb3V0IGZvciBUaW1lWm9uZURCIEFQSSBjYWxscyBpbiBtaWxsaXNlY29uZHNcbiAgICpcbiAgICogRGVmYXVsdDogNTAwMFxuICAgKlxuICAgKiBFbnZpcm9ubWVudCB2YXJpYWJsZTpcbiAgICogVFpEQl9BUElfVElNRU9VVD01MDAwXG4gICAqL1xuICB0aW1lb3V0TXM/OiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IGRlZmF1bHQgY29uZmlnIG1lcmdlZCB3aXRoIGVudmlyb25tZW50IHZhcmlhYmxlcywgaWYgcHJlc2VudFxuICovXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmUgY3ljbG9tYXRpYy1jb21wbGV4aXR5XG5leHBvcnQgY29uc3QgY29uZmlnOiBUWkRCQ29uZmlnID0gKCgpOiBUWkRCQ29uZmlnID0+IHtcbiAgY29uc3QgREVGQVVMVF9GUkVFX0hPU1QgPSAnYXBpLnRpbWV6b25lZGIuY29tJztcbiAgY29uc3QgREVGQVVMVF9QUkVNSVVNX0hPU1QgPSAndmlwLnRpbWV6b25lZGIuY29tJztcbiAgY29uc3QgREVGQVVMVF9IVFRQU19QT1JUID0gNDQzO1xuICBjb25zdCBERUZBVUxUX0hUVFBfUE9SVCA9IDgwO1xuICBjb25zdCBERUZBVUxUX0JBU0VfUEFUSCA9ICcvdjIuMSc7XG4gIGNvbnN0IERFRkFVTFRfVElNRU9VVF9NUyA9IDUwMDA7XG5cbiAgY29uc3QgeyBlbnYgfSA9IHByb2Nlc3M7XG5cbiAgLy8gSFRUUFMgaXMgdGhlIGRlZmF1bHQgYW5kIG11c3QgYmUgZXhwbGljaXRseSBkaXNhYmxlZFxuICBjb25zdCBodHRwczogYm9vbGVhbiA9IChlbnYuVFpEQl9BUElfSFRUUCAmJiBlbnYuVFpEQl9BUElfSFRUUC50b1VwcGVyQ2FzZSgpID09PSAnVFJVRScpID8gZmFsc2UgOiB0cnVlO1xuICBjb25zdCBwb3J0OiBudW1iZXIgPSBlbnYuVFpEQl9BUElfUE9SVCA/IE51bWJlcihlbnYuVFpEQl9BUElfUE9SVCkgOiAoaHR0cHMgPyBERUZBVUxUX0hUVFBTX1BPUlQgOiBERUZBVUxUX0hUVFBfUE9SVCk7XG5cbiAgLy8gRlJFRSBpcyB0aGUgZGVmYXVsdCBhbmQgcHJlbWl1bSBtdXN0IGJlIGV4cGxpY2l0bHkgZW5hYmxlZFxuICBjb25zdCBwcmVtaXVtOiBib29sZWFuID0gISEoZW52LlRaREJfQVBJX1BSRU1JVU0gJiYgZW52LlRaREJfQVBJX1BSRU1JVU0udG9VcHBlckNhc2UoKSA9PT0gJ1RSVUUnKTtcblxuICBjb25zdCBob3N0OiBzdHJpbmcgPSBlbnYuVFpEQl9BUElfSE9TVCB8fCAocHJlbWl1bSA/IERFRkFVTFRfUFJFTUlVTV9IT1NUIDogREVGQVVMVF9GUkVFX0hPU1QpO1xuICBjb25zdCBiYXNlUGF0aDogc3RyaW5nID0gZW52LlRaREJfQVBJX0JBU0VfUEFUSCB8fCBERUZBVUxUX0JBU0VfUEFUSDtcblxuICBjb25zdCBhcGlUb2tlbiA9IGVudi5UWkRCX0FQSV9UT0tFTiB8fCB1bmRlZmluZWQ7XG5cbiAgY29uc3QgdGltZW91dE1zID0gZW52LlRaREJfQVBJX1RJTUVPVVQgPyBOdW1iZXIoZW52LlRaREJfQVBJX1RJTUVPVVQpIDogREVGQVVMVF9USU1FT1VUX01TO1xuXG4gIHJldHVybiB7XG4gICAgcHJlbWl1bSxcbiAgICBodHRwcyxcbiAgICBob3N0LFxuICAgIHBvcnQsXG4gICAgYmFzZVBhdGgsXG4gICAgYXBpVG9rZW4sXG4gICAgdGltZW91dE1zLFxuICB9O1xufSkoKTtcbiJdfQ==